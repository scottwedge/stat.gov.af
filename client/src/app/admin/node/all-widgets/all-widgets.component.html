<div>
  <div *ngIf="allWidgets.length; else nodata">
    <div>
      <!-- data-gs-x="0" data-gs-y="5" -->
      <div class="grid-stack" data-gs-width="12" data-gs-animate="yes" id="w-gridstack">
        <div class="grid-stack-item" *ngFor="let chart of  allWidgets" [id]="chart._id"
          data-gs-width="6" data-gs-height="5"
          data-gs-no-move="yes" data-gs-no-resize="yes"
          data-gs-locked="yes">
          <div class="grid-stack-item-content card">
            <button class="btn-xs btn btn-danger remove-chart" 
              (click)="removeChart(chart._id)">X</button>

            <plotly-plot [data]="chart.data" [config]="chart.config" [layout]="chart.layout" [useResizeHandler]="true"
              [style]="{position: 'relative', width: '100%', height: '100%'}" #plotlyChartContainer>
            </plotly-plot>
            
          </div>
        </div>
      </div>
    </div>
  </div>
  <ng-template #nodata>
    <div><br>
      <div [class.dot-falling]="loading"></div>
      <div *ngIf="!loading" class="text-center">
        <button class="btn btn-success btn-fill btn-lg" (click)="addNew()">
          <i class="fa fa-plus"></i> {{ 'ADD-WIDGET' | translate }} /
          {{ 'ANALYZE-DATA' | translate }}
        </button>
      </div>
    </div>
  </ng-template>


  <!-- end content-->
</div>